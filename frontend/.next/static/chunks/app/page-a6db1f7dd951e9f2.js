(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2333:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(1215),o=r(5591),s=r(3061),n=r(5148),u=r(9198);function l(){let{isAuthenticated:e,isLoading:t}=(0,n.A)(),r=(0,s.useRouter)();return(0,o.useEffect)(()=>{t||(e?r.push("/dashboard"):r.push("/login"))},[e,t,r]),(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"})})}},4612:(e,t,r)=>{Promise.resolve().then(r.bind(r,2333))},5148:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,AuthProvider:()=>l,F:()=>s});var a=r(5591),o=r(3061);let s=r(4745).A.create({baseURL:"https://networking-automated.onrender.com",headers:{"Content-Type":"application/json"}}),n=(0,a.createContext)(null),u=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},l=e=>{let{children:t}=e,[r,u]=(0,a.useState)(null),[l,i]=(0,a.useState)(!0),c=(0,o.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("token");e&&(u(e),s.defaults.headers.common.Authorization="Bearer ".concat(e)),i(!1)},[]),(0,a.useEffect)(()=>{r?(localStorage.setItem("token",r),s.defaults.headers.common.Authorization="Bearer ".concat(r)):(localStorage.removeItem("token"),delete s.defaults.headers.common.Authorization)},[r]);let d=async(e,t)=>{try{let r=await s.post("/api/login",{username:e,password:t});u(r.data.token)}catch(e){throw console.error("Login error:",e),e}};return a.createElement(n.Provider,{value:{token:r,login:d,logout:()=>{u(null),c.push("/login")},isAuthenticated:!!r,isLoading:l}},t)}},9198:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8475).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[75,403,255,358],()=>t(4612)),_N_E=e.O()}]);